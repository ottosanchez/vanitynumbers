{"modules":[{"id":"7172ec33-0ce9-4e44-9123-f03319ac1994","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"4d36a741-bc87-4035-b3fa-9c8390e687ac"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":236,"y":102}}},{"id":"5d737fb6-6df3-4e27-beff-eb3395bada65","type":"PlayPrompt","branches":[{"condition":"Success","transition":"9d86b5ca-2522-4771-bd07-822c83e6617d"}],"parameters":[{"name":"Text","value":"<speak>We found the following most common vanity words for your number: $.External.vanityWords , thank you for calling.</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1045,"y":116},"useDynamic":false}},{"id":"9d86b5ca-2522-4771-bd07-822c83e6617d","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1354,"y":170}}},{"id":"9d594a48-6c25-4b37-8d8c-f85512f8c79a","type":"PlayPrompt","branches":[{"condition":"Success","transition":"9d86b5ca-2522-4771-bd07-822c83e6617d"}],"parameters":[{"name":"Text","value":"I'm sorry, we didn't find vanity numbers for your phone number. Good bye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1106.0113525390625,"y":353.0085144042969},"useDynamic":false}},{"id":"dbee17e8-ed76-42ed-99ce-f59f5e3bb5b2","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"invalid number","transition":"9d594a48-6c25-4b37-8d8c-f85512f8c79a"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"no vanity numbers found","transition":"9d594a48-6c25-4b37-8d8c-f85512f8c79a"},{"condition":"NoMatch","transition":"5d737fb6-6df3-4e27-beff-eb3395bada65"}],"parameters":[{"name":"Attribute","value":"vanityWords"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":801,"y":206},"conditionMetadata":[{"id":"07c38f0a-e536-4cec-a9ec-d1927597cf33","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"invalid number"},{"id":"1a6072ae-ce5b-410d-b24b-27d9b00b8240","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"no vanity numbers found"}]}},{"id":"1a224157-8ebc-469c-9c97-684a3d8bff83","type":"PlayPrompt","branches":[{"condition":"Success","transition":"9d86b5ca-2522-4771-bd07-822c83e6617d"}],"parameters":[{"name":"Text","value":"We are sorry, there was a system error while verifying your phone number, please try later.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":804.0113830566406,"y":564.0085144042969},"useDynamic":false}},{"id":"4d36a741-bc87-4035-b3fa-9c8390e687ac","type":"PlayPrompt","branches":[{"condition":"Success","transition":"7eefafd6-402f-4759-967c-b017ef5f3969"}],"parameters":[{"name":"Text","value":"<speak>Thank you for calling the vanity number lookup service.\nBased on your phone number, plus <say-as interpret-as=\"telephone\">$.CustomerEndpoint.Address</say-as>, we will lookup what vanity numbers are available. One moment, please.</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":546,"y":129},"useDynamic":false}},{"id":"7eefafd6-402f-4759-967c-b017ef5f3969","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"dbee17e8-ed76-42ed-99ce-f59f5e3bb5b2"},{"condition":"Error","transition":"1a224157-8ebc-469c-9c97-684a3d8bff83"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:126356020824:function:vanity","namespace":null},{"name":"TimeLimit","value":"4"},{"name":"Parameter","key":"phoneNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":503,"y":323},"dynamicMetadata":{"phoneNumber":true},"useDynamic":false},"target":"Lambda"}],"version":"1","type":"contactFlow","start":"7172ec33-0ce9-4e44-9123-f03319ac1994","metadata":{"entryPointPosition":{"x":15,"y":15},"snapToGrid":false,"name":"vanityNumbers","description":"","type":"contactFlow","status":"published","hash":"29a3f930e3aac4c701ae7535a28a5a4712e7ebb24a5756465f884c4506ff85e6"}}